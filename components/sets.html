<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CJSBHB1TS4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-CJSBHB1TS4');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/assets/images/icons/pageIcon2.png" type="image/png">
  <title>Pokemon Expansion Sets</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script type="module" src="/assets/js/firebase-init.js"></script>
  <script type="module">
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

    // Initialize Firestore
    const db = getFirestore();

    async function loadSets() {
      const setsGrid = document.querySelector('.expansion-grid');
      setsGrid.innerHTML = ''; // Clear any existing content

      const setsCollection = collection(db, 'sets');
      const querySnapshot = await getDocs(setsCollection);

      querySnapshot.forEach((doc) => {
        const setData = doc.data();
        const setElement = document.createElement('a');
        setElement.href = `cards.html?set=${doc.id}`; // Navigate to cards.html with setId
        setElement.classList.add('expansion-item');

        const img = document.createElement('img');
        img.src = setData.imageUrls.logo || '/path/to/placeholder-logo.png'; // Use a placeholder if no logo
        img.alt = setData.name;
        setElement.appendChild(img);

        const nameElement = document.createElement('p');
        nameElement.textContent = setData.name;
        setElement.appendChild(nameElement);

        setsGrid.appendChild(setElement);
      });
    }

    // Load sets on page load
    window.onload = loadSets;
  </script>
</head>
<body>
  <header>
    <div class="logo">
      <img src="/assets/images/icons/pagelogo.png" alt="LilyCove Logo" style="height: 50px;">
    </div>
    <input type="text" placeholder="Search for cards, sets, tcg">
    <nav>
      <a href="/index.html">Home</a>
      <a href="/components/sets.html">Pokemon</a>
    </nav>
    <div class="user-icons">
      <i class="fas fa-user"></i>
      <i class="fas fa-sign-out-alt"></i>
      <i class="fas fa-bell"></i>
    </div>
  </header>

  <main>
    <section class="expansion-header">
      <h1>Pokemon Expansion Sets</h1>
      <div class="language-options">
        <a href="#" class="active">English</a>
        <a href="#">Japanese</a>
      </div>
      <hr class="divider">
    </section>

    <section class="expansion-grid">
      <!-- Sets will be dynamically loaded here -->
    </section>
  </main>
</body>
</html>
